# MNEM_TO_ENTROPY

Утилита на Rust для конвертации мнемонической фразы (BIP39) обратно в исходную энтропию (байты).

## Описание

Эта утилита позволяет преобразовать мнемоническую фразу (12, 15, 18, 21 или 24 слова) обратно в исходную энтропию (набор байтов), из которой она была создана:

- 12 слов → 128 бит → **16 байт**
- 15 слов → 160 бит → **20 байт**
- 18 слов → 192 бит → **24 байт**
- 21 слово → 224 бит → **28 байт**
- 24 слова → 256 бит → **32 байт**

## Установка

```bash
cargo build --release
```

## Использование

### Вариант 1: Интерактивный ввод

```bash
cargo run
```

Программа попросит вас ввести мнемоническую фразу.

### Вариант 2: Через аргументы командной строки

```bash
cargo run -- --mnemonic "your twelve word mnemonic phrase goes here for example"
```

### Вариант 3: Чтение из файла

```bash
# Читаем мнемоники из файла, выводим в консоль
cargo run -- --input mnemonics.txt

# Читаем из файла и сохраняем энтропию в файл
cargo run -- --input mnemonics.txt --output entropy.txt
```

### Вывести в байтах вместо hex

```bash
cargo run -- --mnemonic "your mnemonic phrase" --hex false
```

### Обработка мнемоник с неверной контрольной суммой

Если у вас есть мнемоническая фраза с неверной контрольной суммой (например, из поврежденных данных или специальных случаев), вы можете использовать флаг `--ignore-checksum`:

```bash
cargo run -- --mnemonic "ten bar oval turn hole pole key word car art remember ship" --ignore-checksum
```

Это извлечет энтропию, включая биты контрольной суммы, без проверки её корректности.

## Опции

- `-m, --mnemonic <MNEMONIC>` - Мнемоническая фраза (12, 15, 18, 21 или 24 слова)
- `-i, --input <FILE>` - Путь к файлу с мнемониками (одна фраза на строку)
- `-o, --output <FILE>` - Путь к выходному файлу для сохранения энтропии
- `--hex <HEX>` - Вывести результат в hex формате (по умолчанию true)
- `--ignore-checksum` - Игнорировать проверку контрольной суммы (для мнемоник с неверным чексумом)
- `-h, --help` - Показать справку
- `-V, --version` - Показать версию

## Примеры

### Одна мнемоника

```bash
$ cargo run -- --mnemonic "abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about"

=== Результат 1 ===
Мнемоническая фраза: abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about
Энтропия: 00000000000000000000000000000000
```

### Пакетная обработка из файла

**Файл mnemonics.txt:**
```
abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about
zoo zoo zoo zoo zoo zoo zoo zoo zoo zoo zoo wrong
```

**Команда:**
```bash
$ cargo run -- --input mnemonics.txt --output entropy.txt
```

**Результат в entropy.txt:**
```
00000000000000000000000000000000
ffffffffffffffffffffffffffffffff
```

## Технические детали

- Использует стандарт BIP39 для извлечения энтропии из мнемоники
- Энтропия - это исходные случайные байты, из которых была создана мнемоническая фраза
- Длина энтропии зависит от количества слов в мнемонике:
  - В обычном режиме: извлекается только чистая энтропия (без контрольной суммы)
  - В режиме `--ignore-checksum`: извлекаются все 11*N бит (включая контрольную сумму)
- Поддерживает английский язык для мнемонических фраз
- **Важно**: Это не seed! Энтропия отличается от seed (который получается через PBKDF2)

## Зависимости

- `bip39` - для работы с мнемоническими фразами
- `hex` - для вывода в hex формате
- `clap` - для парсинга аргументов командной строки

## Безопасность

⚠️ **ВНИМАНИЕ**: Эта утилита предназначена для образовательных целей. Будьте осторожны при работе с реальными мнемоническими фразами и никогда не передавайте их через небезопасные каналы.

